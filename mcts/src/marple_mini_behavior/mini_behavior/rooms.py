import numpy as np

ROOM_TYPE = ['Kitchen', 'Bedroom', 'Bathroom', 'Garage', 'Study', 'LivingRoom']
ROOM_OBJ_MAP = {
    'Kitchen': ['apple',
                'backpack',
                'ball',
                'banana',
                "basket",
                "beef",
                "blender",
                "bread",
                "broom",
                "cake",
                "candle",
                "candy",
                "carton",
                "carving_knife",
                "casserole",
                "chicken",
                "chip",
                "cookie",
                "dustpan",
                "egg",
                "fish",
                "fork",
                "hamburger",
                "jar",
                "juice",
                "kettle",
                "knife",
                "lemon",
                "lettuce",
                "olive",
                "oatmeal",
                "pan",
                "plate",
                "pot_plant",
                "pop",
                "radish",
                "rag",
                "salad",
                "sandwich",
                "scrub_brush",
                "shoe",
                "soap",
                "soup",
                "spoon",
                "strawberry",
                "sugar",
                "tea_bag",
                "teapot",
                "tomato",
                "vegetable_oil",
                "water",
                ],
    'Bedroom': ["backpack",
                "ball",
                "basket", "book", "bow",
                "candle", "chip", "cookie", "clothes",
                "dustpan",  # door # "floor",
                "gym_shoe",
                "necklace",
                # "package",
                "pot_plant",
                "scrub_brush",
                "shoe",
                "sock",
                "towel",
                ],
    'Bathroom': ["basket",
                 "broom",
                 "candle",
                 "dustpan",  # door
                 "pot_plant",
                 "scrub_brush",
                 "shoe",  "soap",
                 "towel",
                 "water",
                 ],
    'Garage': [
        "backpack", "ball", "basket", "broom",
        "dustpan",  # door # "floor",
        "gym_shoe",
        "hammer", "hardback",
        "marker",
        # "package",
        "plywood",
        "scrub_brush", "shoe",
    ],
    'Study': [
        "backpack", "ball", "basket", "book", "bow", "broom",
        "calculator", "candle",
        "dustpan", "document",  # door
        "folder",  # "floor"
        "highlighter",
        "marker",
        "notebook",
        # "package",
        "pen", "pencil", "plywood", "printer", "pot_plant",
        "tea_bag", "teapot",
    ],
    'LivingRoom': [
        "backpack",
        "ball",
        "basket", "book", "bow",
        "candle", "chip", "cookie",
        "dustpan",  # door # "floor",
        "gym_shoe",
        "necklace",
        # "package",
        "pot_plant"
    ]
}

# TODO: Didn't finish the mapping yet
# map the objects that cannot be on the furniture
FURNITURE_OBJ_MAP = {
    'ashcan': [],
    'cabinet': [],
    'bin': [],
    "box": [],
    "countertop": [],
    "chair": [],
    "electric_refrigerator": [],
    "light": [],
    "shelf": [],
    "sink": [],
    "bed": ["apple", "ashcan",
            "backpack", "ball", "banana", "basket", "bed", "beef", "bin", "blender", "book", "bow", "box", "bread", "broom", "bucket",
            "cabinet", "cake", "calculator", "candle", "candy", "car", "carton", "carving_knife", "casserole", "chicken", "chip", "cookie", "countertop", "chair",
            "date", "dustpan", "document",  # door
            "egg", "electric_refrigerator",
            "fish", "folder", "fork",  # "floor",
            "gym_shoe",
            "hamburger", "hammer", "hardback", "highlighter",
            "jar", "jewelry", "juice",
            "kettle", "knife",
            "lemon", "lettuce", "light",
            "marker",
            "necklace", "notebook",
            "olive", "oatmeal"
            # "package",
            "pan", "pen", "pencil", "plate", "plywood", "pop", "printer", "pot_plant",
            "radish", "rag",
            "salad", "sandwich", "saw", "scrub_brush", "shelf", "shoe", "shower", "sink", "soap", "sock", "sofa", "soup", "spoon", "stove", "strawberry", "sugar"
            "table", "tea_bag", "teapot", "tomato", "towel",
            "vegetable_oil",
            "water", "window"],
    "sofa": [],
    "shower": [],
    "toilet": [],
}

ROOM_FURNITURE_MAP = {
    'Kitchen': ['ashcan',
                'cabinet',
                'bin',
                "box",
                "countertop",
                "chair",
                "dog",
                "electric_refrigerator",
                "light",
                "shelf",
                "sink",
                "stove",
                "table",
                "bucket",
                ],
    'Bedroom': ["ashcan",
                "bed",
                "bin",
                "box",
                "closet",
                "cabinet",
                "chair",
                "dog",
                "shelf",
                "sofa",
                "light",
                "television",
                ],
    'Bathroom': ["box",
                 "bin", 
                 "closet",
                 "chair",
                 "cabinet",
                 "light",
                 "shelf",
                 "shower", "sink",
                 "bucket",
                 "laundry",
                 ],
    'Garage': ["ashcan",
               "bin",
               "box",
               "bucket",
               "car",
               "dog",
               "light",
               "shelf",
               "table"
               ],
    'Study': ["ashcan",
              "bin",
              "box",
              "chair",
              "cabinet",
              "light",
              "shelf",
              "table",
              "television",
              ],
    'LivingRoom': ["ashcan",
                   "box",
                   "bin",
                   "cabinet",
                   "chair",
                   "dog",
                   "light",
                   "shelf",
                   "sofa",
                   "table",
                   "television",
                   ]
}
# Base class for rooms


class Room:
    def __init__(self, room_id, room_type, room_name, top, size):
        self.id = room_id
        self.type = room_type
        self.name = room_name
        self.top = top
        self.size = size  # width and height
        self.num_objs = None
        self.num_furs = None
        self.objs = []  # instances
        self.floor_objs = []
        self.furnitures = []  # instances
        self.furnitures_objs = {}


FURNITURE_CANNOT_ON = ['light', 'chair', 'shower', 'bin', 'television']

ROOM_TYPE_TO_IDX = {
    'Kitchen': 1,
    'Bedroom': 2,
    'Bathroom': 3,
    'Garage': 4,
    'Study': 5,
    'LivingRoom': 6,
}

ROOM_TYPE_TO_COLOR = {
    'Kitchen': 'red',
    'Bedroom': 'green',
    'Bathroom': 'blue',
    'Garage': 'purple',
    'Study': 'yellow',
    'LivingRoom': 'orange',
}
